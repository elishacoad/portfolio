---
import type { GalleryCategory } from '../data/gallery';
import Lightbox from './Lightbox.astro';

interface Props {
  category: GalleryCategory;
}

const { category } = Astro.props;
---

<div class="relative">
  <button 
    type="button"
    class="gallery-trigger relative block border-0 bg-transparent p-0 rounded overflow-hidden transition-[box-shadow_transform] duration-200 !cursor-none w-full hover:shadow-[0_3px_20px_-4px_rgba(0,0,0,0.1)] hover:-translate-y-0.5 active:translate-y-0 mouse-hover-fx"
    data-gallery-id={category.id}
    aria-label={`View ${category.title} gallery`}
  >
    <img 
      src={category.thumbnail} 
      alt={`${category.title} thumbnail`}
      class="rounded w-full h-auto"
      loading="lazy"
    />
    <img 
      src="/images/icons/Fullscreen.svg" 
      loading="lazy" 
      height="24" 
      width="24" 
      alt="View fullscreen" 
      class="invert bg-[rgba(255,255,255,0.3)] rounded-sm absolute top-2 right-2"
    />
  </button>
  <h3 class="mt-2.5 text-[var(--gold)] uppercase mb-2.5 text-lg font-medium leading-[21px]">{category.title}</h3>
</div>

<Lightbox images={category.images} galleryId={category.id} />
