---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import GalleryCard from '../components/GalleryCard.astro';
import { galleryCategories } from '../data/gallery';
---

<BaseLayout 
  title="Playground | Elisha Coad's Portfolio"
  description="Playground | Elisha Coad's Portfolio"
>
  <Header currentPage="playground" />
  <div class="section">
    <div class="w-container">
      <!-- Playground Gallery -->
      <div class="playground">
        <div class="hero">
          <h1>Playground</h1>
          <p class="subtitle">Here's a miscellaneous collection of <span class="gold">freelance</span>, <span class="gold">university</span>, and <span class="gold">personal</span> projects from the past few years.</p>
        </div>
      </div>
      <div class="w-layout-grid playground-grid">
        {galleryCategories.map(category => (
          <GalleryCard category={category} />
        ))}
      </div>
    </div>
  </div>

  <Footer />
</BaseLayout>

<!-- Load PhotoSwipe CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5.4.2/dist/photoswipe.css">

<!-- Initialize lightbox manager and gallery data -->
<script define:vars={{ galleryCategories }}>
  // Load lightbox manager
  import('/src/scripts/lightbox-manager.ts');
  
  // Make gallery data available
  window.galleryData = {};
  galleryCategories.forEach(category => {
    window.galleryData[category.id] = category;
  });
</script>
